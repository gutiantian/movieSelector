<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:metadata>
        <f:viewAction action="#{loginBean.checkLogin}" />
    </f:metadata>

    <h:head>
        <title>Login Page</title>
        <script type="text/javascript" language="javascript">
            jQuery(document).ready(function() {
                $('form').css('padding-left', $(window).width()/2 - 250);
                $('form').css('padding-right', $(window).width()/2 - 250);
                $('form').css('padding-top', $(window).height()/3);
                $('form').css('width', '500px');
            });
            
            $( window ).resize(function() {
                $('form').css('padding-left', $(window).width()/2 - 250);
                $('form').css('padding-right', $(window).width()/2 - 250);
                $('form').css('padding-top', $(window).height()/3);
                $('form').css('width', '500px');
            });
        </script>
    </h:head>
    <h:body>
        <h:form style="padding-left:40%; padding-right:40%; padding-top: 300px; width: 500px">
            <p:panel id="panel" header="User Login" style="text-align: center">

                <p:messages id="msgs" />

                <h:panelGrid columns="2" style="padding-left: 60px">
                    
                    <p:outputLabel for="username" value="Username:" />
                    <p:inputText id="username" value="#{loginController.username}" label="Username" required="true" maxlength="32" requiredMessage = "Username is required">
                        <f:validateRequired />
                    </p:inputText>

                    <p:outputLabel for="password" value="Password:" />
                    <p:password id="password" value="#{loginController.password}" label="Password" required="true" maxlength="16" requiredMessage = "Password is required">
                        <f:validateRequired />
                    </p:password>

                </h:panelGrid>
                
                <p:commandLink id="forgotpw" onclick="window.location=('forgotpw.xhtml');">
                    <h:outputText value="Forgot Password?" style="color: blue" />
                </p:commandLink>
                
                <h:panelGrid columns="2" style="padding-left: 100px">
                    
                    <p:commandButton id="login" value="Login" update="panel" action="#{loginController.login}" icon="ui-icon-check" />
                    <p:commandButton id="cancel" value="Cancel" process="cancel" action="#{loginController.cancel}" icon="ui-icon-circle-close" />
                    
                </h:panelGrid>
                
            </p:panel>
        </h:form>
    </h:body>
</html>

