<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <f:metadata>
        <f:viewAction action="#{loginBean.checkLogin}" />
    </f:metadata>

  
    <h:head>
        <title>Registration Page</title>
        <script type="text/javascript" language="javascript">
            jQuery(document).ready(function() {
                $('form').css('padding-left', $(window).width()/2 - 250);
                $('form').css('padding-right', $(window).width()/2 - 250);
                $('form').css('padding-top', $(window).height()/4);
                $('form').css('width', '500px');
            });
            
            $( window ).resize(function() {
                $('form').css('padding-left', $(window).width()/2 - 250);
                $('form').css('padding-right', $(window).width()/2 - 250);
                $('form').css('padding-top', $(window).height()/4);
                $('form').css('width', '500px');
            });
        </script>
    </h:head>
    <h:body>
        <h:form>
            <p:panel id="panel" header="Create New Account" style="text-align: center">
                <p:messages id="msgs" />

                <h:panelGrid columns="2" cellpadding="5" style="text-align: left">
                    <p:outputLabel for="username" value="Username:" />
                    <p:inputText id="username" value="#{registrationController.username}" label="Username" required="true" maxlength="32" requiredMessage = "Username is required">
                        <f:validateRequired />
                    </p:inputText>
                                        
                    <p:outputLabel for="password" value="Password:" />
                    <p:password id="password" value="#{registrationController.password}" label="Password" required="true" maxlength="16" requiredMessage = "Password is required">
                        <f:validateRequired />
                    </p:password>
                    
                    <p:outputLabel for="confirmPassword" value="Confirm Password:" />
                    <p:password id="confirmPassword"  value="#{registrationController.confirmedPassword}" label="Password" required="true" maxlength="16" requiredMessage = "Confirm password is required">
                        <f:validateRequired />
                    </p:password> 
                                                       
                    <p:outputLabel  for="firstname" value="First Name:" />
                    <p:inputText id="firstname"  value="#{registrationController.firstName}" label="firstname" maxlength="16" required="true" requiredMessage = "First name is required">
                        <f:validateRequired />
                    </p:inputText> 
                                                          
                    <p:outputLabel  for="lastname" value="Last Name:" />
                    <p:inputText id="lastname"  value="#{registrationController.lastName}" label="lastname" maxlength="16" required="true" requiredMessage = "Last name is required">
                        <f:validateRequired />
                    </p:inputText>                    
                                       
                    <p:outputLabel for="major" value="Major: " />
                    <p:selectOneMenu id="major"  style="width:150px" value="#{registrationController.selectedMajor}">
                        <f:selectItem itemLabel="Select One" itemValue="-1" />
                        <f:selectItems value="#{registrationController.majors}" />
                    </p:selectOneMenu>
                 
                </h:panelGrid>  
                
                <h:panelGrid columns="2" style="padding-left: 100px">
                    
                    <p:commandButton id="submit" value="Submit" update="panel" actionListener="#{registrationController.submit}" icon="ui-icon-check" />
                    <p:commandButton id="cancel" value="Cancel" process="cancel" action="#{registrationController.cancel}" icon="ui-icon-circle-close" />
                    
                </h:panelGrid>
                
            </p:panel>
            
            <p:dialog widgetVar="dlg" resizable="false" showEffect="explode" width="300" height="120" closable="false" modal="true" draggable="false" showHeader="false">
                <h:panelGrid columns="1" style="padding-top: 20px; padding-left:5px; font-size: 16px; font-weight: bold">
                    <h:outputText value="Your account has been created!" />
                </h:panelGrid>
                <h:panelGrid columns="1" style="padding-left:85px; padding-top: 20px">
                    <p:commandButton id="okay" value="Okay" onclick="window.location=('index.xhtml');" />          
                </h:panelGrid>
            </p:dialog>
        </h:form>      
    </h:body>
</html>

